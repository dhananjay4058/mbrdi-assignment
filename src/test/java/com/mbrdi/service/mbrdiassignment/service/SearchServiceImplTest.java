package com.mbrdi.service.mbrdiassignment.service;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import static org.mockito.ArgumentMatchers.*;
import static org.mockito.Mockito.spy;
import static org.mockito.Mockito.when;

import java.net.URI;

import org.mockito.MockitoAnnotations;
import org.mockito.junit.jupiter.MockitoExtension;
import org.mockito.junit.jupiter.MockitoSettings;
import org.mockito.quality.Strictness;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.web.client.RestTemplateBuilder;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.util.UriComponents;
import org.springframework.web.util.UriComponentsBuilder;
import com.mbrdi.service.mbrdiassignment.model.LocationResponse;
import com.mbrdi.service.mbrdiassignment.util.RestTemplateBuilderFactory;

@ExtendWith(MockitoExtension.class)
@MockitoSettings(strictness=Strictness.LENIENT)
public class SearchServiceImplTest {
	private static final Logger log = LoggerFactory.getLogger(SearchServiceImplTest.class);

	@InjectMocks
	SearchServiceImpl searchServiceImpl;
	@Mock
	RestTemplateBuilderFactory restTemplateBuilderFactory;

	@Mock
	RestTemplate restTemplate;

	@BeforeEach
	public void setUp() {
		MockitoAnnotations.initMocks(this);
	}

	@Test
	public void findPOIByPlaceNameTest() {
		try {
			String hereResponse="{ \"results\": { \"next\": \"https://places.demo.api.here.com/places/v1/discover/explore;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmb2Zmc2V0PTIwJnNpemU9MjA?at=52.5159%2C13.3777&app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", "
					+ "\"items\": [ { \"position\": [ 52.50856, 13.37539 ], \"distance\": 831, \"title\": \"Potsdamer Platz Arkaden\", \"averageRating\": 0, \"category\": { \"id\": \"mall\", \"title\": \"Shopping Center\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/mall?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", "
					+ "\"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/09.icon\", \"vicinity\": \"Alte Potsdamer Straße 7<br/>Tiergarten, 10785 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33d8-5c18342050374372b4cd878c99fae0db;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0w?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", "
					+ "\"id\": \"276u33d8-5c18342050374372b4cd878c99fae0db\", \"openingHours\": { \"text\": \"Mon-Sat: 10:00 - 21:00\", \"label\": \"Opening hours\", \"isOpen\": false, \"structured\": [ { \"start\": \"T100000\", \"duration\": \"PT11H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA\" } ] }, \"chainIds\": [ \"6825\" ], "
					+ "\"alternativeNames\": [ { \"name\": \"Potsdamer Platz Arkaden Berlin\", \"language\": \"de\" } ] }, { \"position\": [ 52.521621, 13.388252 ], \"distance\": 956, \"title\": \"Melia Berlin\", \"averageRating\": 0, \"category\": { \"id\": \"hotel\", \"title\": \"Hotel\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/hotel?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", "
					+ "\"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/01.icon\", \"vicinity\": \"Friedrichstraße<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-10e35e5ad0b0460e9fe49fc85a2bb8e7;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0x?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", "
					+ "\"tags\": [ { \"id\": \"tapas\", \"title\": \"Tapas\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-10e35e5ad0b0460e9fe49fc85a2bb8e7\", \"openingHours\": { \"text\": \"Mon-Sun: 00:00 - 24:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T000000\", \"duration\": \"PT24H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"chainIds\": [ \"2108\" ], \"alternativeNames\": [ { \"name\": \"Berlin Melia\", \"language\": \"en\" }, { \"name\": \"Melia Berlin Hotel Berlin\", \"language\": \"en\" }, { \"name\": \"MELIÁ HOTELS & RESORTS\", \"language\": \"de\" } ] }, "
					+ "{ \"position\": [ 52.51714, 13.38609 ], \"distance\": 584, \"title\": \"Einstein unter Den Linden\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Unter den Linden 42<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", "
					+ "\"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-c803cf77cad04883b628de655a185173;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0y?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"id\": \"276u33db-c803cf77cad04883b628de655a185173\", \"openingHours\": { \"text\": \"Mon-Fri: 08:00 - 22:00<br/>Sat, Sun: 09:00 - 22:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T080000\", \"duration\": \"PT14H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR\" }, { \"start\": \"T090000\", "
					+ "\"duration\": \"PT13H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:SA,SU\" } ] }, \"alternativeNames\": [ { \"name\": \"Café Einstein\", \"language\": \"en\" }, { \"name\": \"Einstein unter den Linden\", \"language\": \"de\" } ] }, { \"position\": [ 52.52668, 13.39678 ], \"distance\": 1762, \"title\": \"Clärchens Ballhaus\", \"averageRating\": 0, \"category\": { \"id\": \"dance-night-club\", \"title\": \"Dance or Nightclub\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/dance-night-club?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" },"
					+ " \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/33.icon\", \"vicinity\": \"Auguststraße 24<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-1f255df198f448b68b092db402f80138;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0z?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-1f255df198f448b68b092db402f80138\" }, "
					+ "{ \"position\": [ 52.50859, 13.37376 ], \"distance\": 855, \"title\": \"Cinemaxx Potsdamer Platz\", \"averageRating\": 0, \"category\": { \"id\": \"cinema\", \"title\": \"Cinema\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/cinema?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/32.icon\", \"vicinity\": \"Potsdamer Straße 5<br/>Tiergarten, 10785 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", "
					+ "\"href\": \"https://places.demo.api.here.com/places/v1/places/276u33d8-040c56d358934884be2ad3909791bd95;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz00?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"id\": \"276u33d8-040c56d358934884be2ad3909791bd95\", \"chainIds\": [ \"7339\" ] }, { \"position\": [ 52.52151, 13.38602 ], \"distance\": 840, \"title\": \"Brechts Steakhaus\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, "
					+ "\"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Schiffbauerdamm 6<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-e710e34e515f4aab8683afe29d2ae3ff;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz01?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"austrian\", \"title\": \"Austrian\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" }, { \"id\": \"international\", \"title\": \"International\", \"group\": \"cuisine\" }, { \"id\": \"steak\", \"title\": \"Steak\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-e710e34e515f4aab8683afe29d2ae3ff\", \"openingHours\": { \"text\": \"Mon-Sun: 17:00 - 22:00\", \"label\": \"Opening hours\", \"isOpen\": false, \"structured\": [ { \"start\": \"T170000\", \"duration\": \"PT05H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"alternativeNames\": [ { \"name\": \"Brechts\", \"language\": \"de\" } ] }, { \"position\": [ 52.52513, 13.39213 ], \"distance\": 1417, \"title\": \"Aufsturz\", \"averageRating\": 0, \"category\": { \"id\": \"bar-pub\", \"title\": \"Bar/Pub\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/bar-pub?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/22.icon\", \"vicinity\": \"Oranienburger Straße 67<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-7d47fc8810374fe2becff8f20b959ec4;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz02?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" }, { \"id\": \"international\", \"title\": \"International\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-7d47fc8810374fe2becff8f20b959ec4\", \"openingHours\": { \"text\": \"Mon-Sun: 12:00 - 02:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T120000\", \"duration\": \"PT14H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] } }, { \"position\": [ 52.51656, 13.40519 ], \"distance\": 1862, \"title\": \"Brauhaus Georgbraeu\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Spreeufer 4<br/>Mitte, 10178 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33dc-d4ef4db7d5f94ec0b918fc0c0ad3c6fa;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz03?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"brewpub\", \"title\": \"Brewpub\", \"group\": \"cuisine\" }, { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" } ], \"id\": \"276u33dc-d4ef4db7d5f94ec0b918fc0c0ad3c6fa\", \"openingHours\": { \"text\": \"Mon-Sun: 12:00 - 00:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T120000\", \"duration\": \"PT12H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"alternativeNames\": [ { \"name\": \"Brauhaus Georgbräu\", \"language\": \"en\" } ] }, { \"position\": [ 52.523241, 13.404432 ], \"distance\": 1984, \"title\": \"Brauhaus Lemke am Hackeschen Markt\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Dircksenstraße 143<br/>Mitte, 10178 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33dc-30c55d29afe449c68f852019d1b10515;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz04?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"brewpub\", \"title\": \"Brewpub\", \"group\": \"cuisine\" }, { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" } ], \"id\": \"276u33dc-30c55d29afe449c68f852019d1b10515\", \"openingHours\": { \"text\": \"Mon-Thu: 16:00 - 22:00<br/>Fri, Sat: 15:00 - 23:00<br/>Sun: 15:00 - 21:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T160000\", \"duration\": \"PT06H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH\" }, { \"start\": \"T150000\", \"duration\": \"PT08H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:FR,SA\" }, { \"start\": \"T150000\", \"duration\": \"PT06H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:SU\" } ] }, \"alternativeNames\": [ { \"name\": \"Lemke\", \"language\": \"de\" } ] }, { \"position\": [ 52.51373, 13.39108 ], \"distance\": 937, \"title\": \"Augustiner am Gendarmenmarkt\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Charlottenstraße 55<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33d8-d7a708809bd6417e809164900953dd1a;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz05?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" }, { \"id\": \"international\", \"title\": \"International\", \"group\": \"cuisine\" } ], \"id\": \"276u33d8-d7a708809bd6417e809164900953dd1a\", \"openingHours\": { \"text\": \"Mon-Sun: 10:00 - 01:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T100000\", \"duration\": \"PT15H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] } }, { \"position\": [ 52.51801, 13.3866 ], \"distance\": 646, \"title\": \"Ishin Japanese Deli\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Mittelstraße 24<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-cd4084d167af4d0ea6f62e49fbbcbdcf;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xMA?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"asian\", \"title\": \"Asian\", \"group\": \"cuisine\" }, { \"id\": \"japanese\", \"title\": \"Japanese\", \"group\": \"cuisine\" }, { \"id\": \"sushi\", \"title\": \"Japanese - Sushi\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-cd4084d167af4d0ea6f62e49fbbcbdcf\", \"openingHours\": { \"text\": \"Mon-Fri: 11:30 - 21:30<br/>Sat: 12:00 - 21:30\", \"label\": \"Opening hours\", \"isOpen\": false, \"structured\": [ { \"start\": \"T113000\", \"duration\": \"PT10H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR\" }, { \"start\": \"T120000\", \"duration\": \"PT09H30M\", \"recurrence\": \"FREQ:DAILY;BYDAY:SA\" } ] }, \"alternativeNames\": [ { \"name\": \"Ishin Mittelstrasse\", \"language\": \"en\" }, { \"name\": \"Ishin   Mittelstrasse\", \"language\": \"en\" }, { \"name\": \"Ishin\", \"language\": \"de\" } ] }, { \"position\": [ 52.510282, 13.372547 ], \"distance\": 715, \"title\": \"Lindenbrau am Potsdamer Platz\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Bellevuestraße 3<br/>Tiergarten, 10785 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33d8-2884e07ac5fb47e8bbd3aea50e8ed4af;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xMQ?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" } ], \"id\": \"276u33d8-2884e07ac5fb47e8bbd3aea50e8ed4af\", \"openingHours\": { \"text\": \"Mon-Sun: 11:30 - 23:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T113000\", \"duration\": \"PT11H30M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"alternativeNames\": [ { \"name\": \"Lindenbräu\", \"language\": \"de\" } ] }, { \"position\": [ 52.520865, 13.384737 ], \"distance\": 729, \"title\": \"Bar Tausend Cantina\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Schiffbauerdamm 11<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-2c192376ea8541419d3e26bc4aa4f7f9;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xMg?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"international\", \"title\": \"International\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-2c192376ea8541419d3e26bc4aa4f7f9\", \"openingHours\": { \"text\": \"Tue-Sat: 19:00 - 00:00\", \"label\": \"Opening hours\", \"isOpen\": false, \"structured\": [ { \"start\": \"T190000\", \"duration\": \"PT05H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:TU,WE,TH,FR,SA\" } ] }, \"alternativeNames\": [ { \"name\": \"Bar Tausend\", \"language\": \"en\" }, { \"name\": \"Cantina in der Bar Tausend\", \"language\": \"en\" }, { \"name\": \"Tausend\", \"language\": \"en\" }, { \"name\": \"Cantina\", \"language\": \"de\" } ] }, { \"position\": [ 52.52714, 13.38475 ], \"distance\": 1338, \"title\": \"Hotel Aquino\", \"averageRating\": 0, \"category\": { \"id\": \"hotel\", \"title\": \"Hotel\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/hotel?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/01.icon\", \"vicinity\": \"Hannoversche Straße 5<br/>Mitte, 10115 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-856cf4729c564979adbf176e40d53d24;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xMw?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"id\": \"276u33db-856cf4729c564979adbf176e40d53d24\", \"alternativeNames\": [ { \"name\": \"Hotel Aquino Berlin\", \"language\": \"en\" }, { \"name\": \"Aquino\", \"language\": \"de\" } ] }, { \"position\": [ 52.50556, 13.35498 ], \"distance\": 1920, \"title\": \"Sheraton Berlin Grand Hotel Esplanade\", \"averageRating\": 0, \"category\": { \"id\": \"hotel\", \"title\": \"Hotel\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/hotel?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/01.icon\", \"vicinity\": \"Lützowufer 15<br/>Tiergarten, 10785 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u336x-f1f111ee47eb4069b114b0f8da9d2636;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xNA?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"id\": \"276u336x-f1f111ee47eb4069b114b0f8da9d2636\", \"openingHours\": { \"text\": \"Mon-Sun: 00:00 - 24:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T000000\", \"duration\": \"PT24H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"chainIds\": [ \"61\" ], \"alternativeNames\": [ { \"name\": \"Grand Hotel Berlin\", \"language\": \"en\" }, { \"name\": \"Grand Hotel Esplanade\", \"language\": \"de\" } ] }, { \"position\": [ 52.522991, 13.388084 ], \"distance\": 1056, \"title\": \"Bombay\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Friedrichstraße 106<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33db-880e828a64934b0f9e7a59a322d8794f;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xNQ?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"asian\", \"title\": \"Asian\", \"group\": \"cuisine\" }, { \"id\": \"indian\", \"title\": \"Indian\", \"group\": \"cuisine\" } ], \"id\": \"276u33db-880e828a64934b0f9e7a59a322d8794f\", \"openingHours\": { \"text\": \"Mon-Thu, Sun: 11:00 - 00:00<br/>Fri, Sat: 11:00 - 01:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T110000\", \"duration\": \"PT13H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,SU\" }, { \"start\": \"T110000\", \"duration\": \"PT14H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:FR,SA\" } ] } }, { \"position\": [ 52.51235, 13.39734 ], \"distance\": 1386, \"title\": \"Goodtime\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Hausvogteiplatz 11<br/>Mitte, 10117 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33d8-dc7f1498edd24b8ba9b51b47bc5c1ff6;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xNg?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"asian\", \"title\": \"Asian\", \"group\": \"cuisine\" }, { \"id\": \"fusion\", \"title\": \"Fusion\", \"group\": \"cuisine\" }, { \"id\": \"indonesian\", \"title\": \"Indonesian\", \"group\": \"cuisine\" }, { \"id\": \"thai\", \"title\": \"Thai\", \"group\": \"cuisine\" } ], \"id\": \"276u33d8-dc7f1498edd24b8ba9b51b47bc5c1ff6\", \"openingHours\": { \"text\": \"Mon-Sun: 12:00 - 00:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T120000\", \"duration\": \"PT12H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] } }, { \"position\": [ 52.52667, 13.408 ], \"distance\": 2374, \"title\": \"Monsieur Vuong\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Alte Schönhauser Straße 46<br/>Mitte, 10119 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33dc-c5a65f97b92146ad93d0c4355b14a305;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xNw?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"natural-healthy\", \"title\": \"Natural/Healthy\", \"group\": \"cuisine\" } ], \"id\": \"276u33dc-c5a65f97b92146ad93d0c4355b14a305\", \"openingHours\": { \"text\": \"Mon-Thu: 12:00 - 23:00<br/>Fri-Sun: 12:00 - 00:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T120000\", \"duration\": \"PT11H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH\" }, { \"start\": \"T120000\", \"duration\": \"PT12H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:FR,SA,SU\" } ] } }, { \"position\": [ 52.522504, 13.412683 ], \"distance\": 2478, \"title\": \"Park Inn by Radisson Berlin Alexanderplatz\", \"averageRating\": 0, \"category\": { \"id\": \"hotel\", \"title\": \"Hotel\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/hotel?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/01.icon\", \"vicinity\": \"Alexanderplatz<br/>Mitte, 10178 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33dc-7f2aef1e8eee4e7ead301c71a7be3713;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xOA?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"id\": \"276u33dc-7f2aef1e8eee4e7ead301c71a7be3713\", \"openingHours\": { \"text\": \"Mon-Sun: 00:00 - 24:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T000000\", \"duration\": \"PT24H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:MO,TU,WE,TH,FR,SA,SU\" } ] }, \"chainIds\": [ \"2922\" ], \"alternativeNames\": [ { \"name\": \"Park Inn Berlin Alexanderplatz\", \"language\": \"en\" }, { \"name\": \"Park Inn Alexanderplatz\", \"language\": \"en\" }, { \"name\": \"Park Inn By Radisson Berlin Alexanderplatz Hotel Berlin\", \"language\": \"en\" }, { \"name\": \"Park Inn by Radisson\", \"language\": \"de\" }, { \"name\": \"Park Inn by Radisson Berlin Alexanderplatz Hotel Berlin\", \"language\": \"en\" } ] }, { \"position\": [ 52.51736, 13.41377 ], \"distance\": 2446, \"title\": \"Zur Letzten Instanz\", \"averageRating\": 0, \"category\": { \"id\": \"restaurant\", \"title\": \"Restaurant\", \"href\": \"https://places.demo.api.here.com/places/v1/categories/places/restaurant?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"type\": \"urn:nlp-types:category\", \"system\": \"places\" }, \"icon\": \"https://download.vcdn.cit.data.here.com/p/d/places2_stg/icons/categories/03.icon\", \"vicinity\": \"Waisenstraße 14<br/>Mitte, 10179 Berlin\", \"having\": [], \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/276u33dc-9d8f0d67fbe64808a708a4f5a78a48a5;context=Zmxvdy1pZD0wMmEzYzZkYi0xYjBjLTVhMTgtOTQyNi0xNWFkMWQ3Mzk5OThfMTYwNDg0NTkxOTcxOV8wXzYxNDEmcmFuaz0xOQ?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\", \"tags\": [ { \"id\": \"european\", \"title\": \"European\", \"group\": \"cuisine\" }, { \"id\": \"german\", \"title\": \"German\", \"group\": \"cuisine\" }, { \"id\": \"grill\", \"title\": \"Grill\", \"group\": \"cuisine\" } ], \"id\": \"276u33dc-9d8f0d67fbe64808a708a4f5a78a48a5\", \"openingHours\": { \"text\": \"Tue-Sat: 12:00 - 01:00<br/>Sun: 12:00 - 22:00\", \"label\": \"Opening hours\", \"isOpen\": true, \"structured\": [ { \"start\": \"T120000\", \"duration\": \"PT13H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:TU,WE,TH,FR,SA\" }, { \"start\": \"T120000\", \"duration\": \"PT10H00M\", \"recurrence\": \"FREQ:DAILY;BYDAY:SU\" } ] } } ] }, \"search\": { \"context\": { \"location\": { \"position\": [ 52.5159, 13.3777 ], \"address\": { \"text\": \"Ebertstraße 22<br/>Mitte, 10117 Berlin<br/>Germany\", \"house\": \"22\", \"street\": \"Ebertstraße\", \"postalCode\": \"10117\", \"district\": \"Mitte\", \"city\": \"Berlin\", \"county\": \"Berlin\", \"stateCode\": \"Berlin\", \"country\": \"Germany\", \"countryCode\": \"DEU\" } }, \"type\": \"urn:nlp-types:place\", \"href\": \"https://places.demo.api.here.com/places/v1/places/loc-dmVyc2lvbj0xO3RpdGxlPUViZXJ0c3RyYSVDMyU5RmUrMjI7bGF0PTUyLjUxNTk7bG9uPTEzLjM3Nzc7c3RyZWV0PUViZXJ0c3RyYSVDMyU5RmU7aG91c2U9MjI7Y2l0eT1CZXJsaW47cG9zdGFsQ29kZT0xMDExNztjb3VudHJ5PURFVTtkaXN0cmljdD1NaXR0ZTtzdGF0ZUNvZGU9QmVybGluO2NvdW50eT1CZXJsaW47Y2F0ZWdvcnlJZD1idWlsZGluZztzb3VyY2VTeXN0ZW09aW50ZXJuYWw;context=c2VhcmNoQ29udGV4dD0x?app_id=devportal-demo-20180625&app_code=9v2BkviRwi9Ot26kp2IysQ\" } } }";

			when(restTemplateBuilderFactory.getContent()).thenReturn(hereResponse);
			LocationResponse res=searchServiceImpl.findPOIByPlaceName("Berlin");
			assertNotNull(res);

			//Exception Scenario
			Assertions.assertThrows(Exception.class, () ->{
				searchServiceImpl.findPOIByPlaceName("bor");
			});

		}catch(Exception ex) {
			log.error("Error occore while test running",ex);
			Assertions.fail("Error occore while test running",ex);

		}
	}

}
